@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Light theme colors (default) */
  :root {
    /* Background colors */
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f8f9fa;
    --color-bg-tertiary: #e9ecef;
    --color-bg-elevated: #ffffff;
    --color-bg-overlay: rgba(0, 0, 0, 0.5);
    --color-bg-modal: #ffffff;

    /* Surface colors */
    --color-surface-primary: #ffffff;
    --color-surface-secondary: #f8f9fa;
    --color-surface-tertiary: #e9ecef;
    --color-surface-hover: #e9ecef;
    --color-surface-active: #dee2e6;

    /* Text colors */
    --color-text-primary: #212529;
    --color-text-secondary: #6c757d;
    --color-text-muted: #6c757d;
    --color-text-disabled: #adb5bd;
    --color-text-inverse: #ffffff;

    /* Border colors */
    --color-border-primary: #dee2e6;
    --color-border-secondary: #e9ecef;
    --color-border-tertiary: #f1f3f5;
    --color-border-focus: #339af0;

    /* Brand colors */
    --color-brand-primary: #1F5DE0;
    --color-brand-primary-hover: #3D75FF;
    --color-brand-primary-active: #1A4EC4;
    --color-brand-secondary: #868e96;
    --color-brand-success: #40c057;
    --color-brand-warning: #fab005;
    --color-brand-error: #fa5252;
    --color-brand-info: #339af0;

    /* Onboarding */
    --color-onboarding-illustration-bg: #fdf4f3;
    --color-onboarding-accent: #f87171;

    /* macOS window button colors (for illustrations) */
    --color-macos-close: #FF5F56;
    --color-macos-minimize: #FFBD2E;
    --color-macos-maximize: #27CA40;

    /* Navigation */
    --color-bg-nav: rgba(239, 246, 255, 0.95);

    /* Hero/Landing page gradient colors */
    --color-gradient-hero-start: #EFF6FF;
    --color-gradient-hero-end: #FFFFFF;
    --color-gradient-cta-start: #0339CF;
    --color-gradient-cta-end: #2563EB;
    --color-gradient-problem-bg: #0F172A;
    --color-accent-periwinkle: #60A5FA;
    --color-accent-indigo: #0339CF;

    /* CTA overlay colors */
    --color-cta-overlay-light: rgba(255, 255, 255, 0.1);
    --color-cta-overlay-lighter: rgba(255, 255, 255, 0.08);

    /* Shader gradient blob colors (light mode) */
    --color-shader-blob-1: #B0D4E8;
    --color-shader-blob-2: #8BBCD4;
    --color-shader-blob-3: #C4E0F0;
    --color-shader-blob-4: #9CCAE0;
    --color-shader-blob-5: #D6ECF5;
    --color-shader-blob-6: #7AADCC;
    --color-shader-bg: #E8F4FA;
  }

  /* Dark theme colors */
  [data-mantine-color-scheme="dark"] {
    /* Background colors */
    --color-bg-primary: #0B1120;
    --color-bg-secondary: #0F1728;
    --color-bg-tertiary: #141E32;
    --color-bg-elevated: #0F1728;
    --color-bg-overlay: rgba(0, 0, 0, 0.7);
    --color-bg-modal: #0D1424;

    /* Surface colors */
    --color-surface-primary: #0F1728;
    --color-surface-secondary: #141E32;
    --color-surface-tertiary: #1A263E;
    --color-surface-hover: #1A263E;
    --color-surface-active: #223050;

    /* Text colors */
    --color-text-primary: #ffffff;
    --color-text-secondary: #c1c2c5;
    --color-text-muted: #909296;
    --color-text-disabled: #5c5f66;
    --color-text-inverse: #ffffff;

    /* Border colors */
    --color-border-primary: #1A263E;
    --color-border-secondary: #141E32;
    --color-border-tertiary: #0F1728;
    --color-border-focus: #339af0;

    /* Brand colors */
    --color-brand-primary: #1F5DE0;
    --color-brand-primary-hover: #3D75FF;
    --color-brand-primary-active: #1A4EC4;
    --color-brand-secondary: #adb5bd;
    --color-brand-success: #51cf66;
    --color-brand-warning: #ffd43b;
    --color-brand-error: #ff6b6b;
    --color-brand-info: #4dabf7;

    /* Onboarding */
    --color-onboarding-illustration-bg: #141E32;
    --color-onboarding-accent: #f87171;

    /* macOS window button colors (for illustrations) */
    --color-macos-close: #FF5F56;
    --color-macos-minimize: #FFBD2E;
    --color-macos-maximize: #27CA40;

    /* Navigation */
    --color-bg-nav: rgba(12, 16, 34, 0.95);

    /* Hero/Landing page gradient colors (dark mode) */
    --color-gradient-hero-start: #0C1835;
    --color-gradient-hero-end: #0B1120;
    --color-gradient-cta-start: #0339CF;
    --color-gradient-cta-end: #2563EB;
    --color-gradient-problem-bg: #0F172A;
    --color-accent-periwinkle: #60A5FA;
    --color-accent-indigo: #0339CF;

    /* CTA overlay colors */
    --color-cta-overlay-light: rgba(255, 255, 255, 0.1);
    --color-cta-overlay-lighter: rgba(255, 255, 255, 0.08);

    /* Shader gradient blob colors (dark mode) */
    --color-shader-blob-1: #081020;
    --color-shader-blob-2: #0A1228;
    --color-shader-blob-3: #0E1A38;
    --color-shader-blob-4: #070E1C;
    --color-shader-blob-5: #101E3A;
    --color-shader-blob-6: #060A16;
    --color-shader-bg: #040810;
  }

  /* Also support Tailwind's dark mode class */
  .dark {
    /* Background colors */
    --color-bg-primary: #0B1120;
    --color-bg-secondary: #0F1728;
    --color-bg-tertiary: #141E32;
    --color-bg-elevated: #0F1728;
    --color-bg-overlay: rgba(0, 0, 0, 0.7);
    --color-bg-modal: #0D1424;

    /* Surface colors */
    --color-surface-primary: #0F1728;
    --color-surface-secondary: #141E32;
    --color-surface-tertiary: #1A263E;
    --color-surface-hover: #1A263E;
    --color-surface-active: #223050;

    /* Text colors */
    --color-text-primary: #ffffff;
    --color-text-secondary: #c1c2c5;
    --color-text-muted: #909296;
    --color-text-disabled: #5c5f66;
    --color-text-inverse: #ffffff;

    /* Border colors */
    --color-border-primary: #1A263E;
    --color-border-secondary: #141E32;
    --color-border-tertiary: #0F1728;
    --color-border-focus: #339af0;

    /* Brand colors */
    --color-brand-primary: #1F5DE0;
    --color-brand-primary-hover: #3D75FF;
    --color-brand-primary-active: #1A4EC4;
    --color-brand-secondary: #adb5bd;
    --color-brand-success: #51cf66;
    --color-brand-warning: #ffd43b;
    --color-brand-error: #ff6b6b;
    --color-brand-info: #4dabf7;

    /* Onboarding */
    --color-onboarding-illustration-bg: #141E32;
    --color-onboarding-accent: #f87171;

    /* Navigation */
    --color-bg-nav: rgba(12, 16, 34, 0.95);

    /* Hero/Landing page gradient colors (dark mode) */
    --color-gradient-hero-start: #0C1835;
    --color-gradient-hero-end: #0B1120;
    --color-gradient-cta-start: #0339CF;
    --color-gradient-cta-end: #2563EB;
    --color-gradient-problem-bg: #0F172A;
    --color-accent-periwinkle: #60A5FA;
    --color-accent-indigo: #0339CF;

    /* CTA overlay colors */
    --color-cta-overlay-light: rgba(255, 255, 255, 0.1);
    --color-cta-overlay-lighter: rgba(255, 255, 255, 0.08);

    /* Shader gradient blob colors (dark mode) */
    --color-shader-blob-1: #081020;
    --color-shader-blob-2: #0A1228;
    --color-shader-blob-3: #0E1A38;
    --color-shader-blob-4: #070E1C;
    --color-shader-blob-5: #101E3A;
    --color-shader-blob-6: #060A16;
    --color-shader-bg: #040810;
  }
}

/* Custom styles for UnifiedDatePicker today highlighting */
@layer components {
  /* High specificity selector to override inline styles */
  .unified-datepicker-day[data-today][data-highlight-today] {
    background-color: var(--color-brand-primary) !important;
    font-weight: 600 !important;
  }

  /* Handle selected state as well */
  .unified-datepicker-day[data-today][data-highlight-today][data-selected] {
    background-color: var(--color-brand-primary) !important;
    font-weight: 600 !important;
  }
}

/* =================================================================
   Mantine Component Theme Overrides
   Mantine v7's styles prop only supports flat CSS properties (inline
   styles), not CSS selectors. These rules provide the interactive
   states (hover, focus, data-attributes) that cannot be expressed
   as inline styles.
   ================================================================= */

/* --- Modal & Drawer close button --- */
.mantine-Modal-close:hover,
.mantine-Drawer-close:hover {
  background-color: var(--color-surface-hover);
}

/* --- Input focus & placeholder --- */
.mantine-Select-input:focus,
.mantine-TextInput-input:focus,
.mantine-Textarea-input:focus,
.mantine-DateInput-input:focus,
.mantine-MultiSelect-input:focus {
  border-color: var(--color-border-focus);
}

.mantine-Select-input::placeholder,
.mantine-TextInput-input::placeholder,
.mantine-Textarea-input::placeholder,
.mantine-DateInput-input::placeholder {
  color: var(--color-text-muted);
}

/* --- Select / MultiSelect option states --- */
.mantine-Select-option[data-combobox-selected],
.mantine-MultiSelect-option[data-combobox-selected] {
  background-color: var(--color-brand-primary);
  color: var(--color-text-inverse);
}

.mantine-Select-option:hover:not([data-combobox-selected]),
.mantine-MultiSelect-option:hover:not([data-combobox-selected]) {
  background-color: var(--color-surface-hover);
}

/* --- MultiSelect pill remove button --- */
.mantine-MultiSelect-pill .mantine-CloseButton-root:hover {
  color: var(--color-text-primary);
  background-color: var(--color-surface-hover);
}

/* --- Button variant styles --- */
.mantine-Button-root[data-variant="filled"] {
  background-color: var(--color-brand-primary);
  color: var(--color-text-inverse);
}
.mantine-Button-root[data-variant="filled"]:hover {
  background-color: var(--color-brand-primary-hover);
}

.mantine-Button-root[data-variant="subtle"] {
  color: var(--color-text-secondary);
}
.mantine-Button-root[data-variant="subtle"]:hover {
  background-color: var(--color-surface-hover);
}

.mantine-Button-root[data-variant="default"] {
  background-color: var(--color-surface-secondary);
  color: var(--color-text-primary);
  border-color: var(--color-border-primary);
}
.mantine-Button-root[data-variant="default"]:hover {
  background-color: var(--color-surface-hover);
}

/* --- Calendar header controls (DateInput, DatePicker, Calendar) --- */
.mantine-DateInput-calendarHeaderControl:hover,
.mantine-DatePicker-calendarHeaderControl:hover,
.mantine-Calendar-calendarHeaderControl:hover {
  background-color: var(--color-surface-hover);
}

.mantine-DateInput-calendarHeaderLevel:hover,
.mantine-DatePicker-calendarHeaderLevel:hover,
.mantine-Calendar-calendarHeaderLevel:hover {
  background-color: var(--color-surface-hover);
}

/* --- Months/Years list controls --- */
.mantine-DateInput-monthsListControl:hover,
.mantine-DatePicker-monthsListControl:hover,
.mantine-Calendar-monthsListControl:hover,
.mantine-DateInput-yearsListControl:hover,
.mantine-DatePicker-yearsListControl:hover,
.mantine-Calendar-yearsListControl:hover {
  background-color: var(--color-surface-hover);
}

.mantine-DateInput-monthsListControl[data-selected],
.mantine-DatePicker-monthsListControl[data-selected],
.mantine-Calendar-monthsListControl[data-selected],
.mantine-DateInput-yearsListControl[data-selected],
.mantine-DatePicker-yearsListControl[data-selected],
.mantine-Calendar-yearsListControl[data-selected] {
  background-color: var(--color-brand-primary);
  color: var(--color-text-inverse);
}

/* --- Day states (DateInput) --- */
.mantine-DateInput-day:hover:not([data-selected], [data-disabled]) {
  background-color: var(--color-surface-hover);
}
.mantine-DateInput-day[data-selected] {
  background-color: var(--color-brand-primary);
  color: var(--color-text-inverse);
}
.mantine-DateInput-day[data-in-range] {
  background-color: var(--color-brand-primary);
  opacity: 0.2;
}
.mantine-DateInput-day[data-outside] {
  color: var(--color-text-disabled);
}
.mantine-DateInput-day[data-today] {
  background-color: var(--color-brand-success);
  color: var(--color-text-inverse);
  font-weight: 600;
}

/* --- Day states (DatePicker) --- */
.mantine-DatePicker-day:hover:not([data-selected], [data-disabled]) {
  background-color: var(--color-surface-hover);
}
.mantine-DatePicker-day[data-selected] {
  background-color: var(--color-brand-primary);
  color: var(--color-text-inverse);
}
.mantine-DatePicker-day[data-in-range] {
  background-color: var(--color-brand-primary);
  opacity: 0.2;
}
.mantine-DatePicker-day[data-outside] {
  color: var(--color-text-disabled);
}
.mantine-DatePicker-day[data-today] {
  background-color: var(--color-brand-error);
  color: var(--color-text-inverse);
  font-weight: 600;
}

/* --- Day states (Calendar) --- */
.mantine-Calendar-day:hover:not([data-selected], [data-disabled]) {
  background-color: var(--color-surface-hover);
}
.mantine-Calendar-day[data-selected] {
  background-color: var(--color-brand-primary);
  color: var(--color-text-inverse);
}
.mantine-Calendar-day[data-in-range] {
  background-color: var(--color-brand-primary);
  opacity: 0.2;
}
.mantine-Calendar-day[data-outside] {
  color: var(--color-text-disabled);
}
.mantine-Calendar-day[data-weekend] {
  color: var(--color-brand-primary) !important;
}
.mantine-Calendar-day[data-today] {
  background-color: var(--color-brand-primary) !important;
  color: var(--color-text-inverse) !important;
  font-weight: 600 !important;
}

/* --- Tabs --- */
.mantine-Tabs-list {
  flex-wrap: nowrap;
  overflow-x: auto;
  scrollbar-width: none;
}
.mantine-Tabs-list::-webkit-scrollbar {
  display: none;
}
.mantine-Tabs-tab[data-active] {
  border-color: var(--color-brand-primary);
  color: var(--color-brand-primary);
  font-weight: 500;
}
.mantine-Tabs-tab:hover {
  background-color: var(--color-surface-hover);
}

/* Tabs pills variant (used by ViewSwitcher) */
.mantine-Tabs-tab[data-active][data-variant="pills"] {
  background-color: var(--color-brand-primary);
  color: var(--color-text-inverse);
}

/* Chat HTML content styling (for AI responses with HTML tables, lists, etc.) */
.chat-html-content {
  font-size: 0.875rem;
  line-height: 1.625;
  color: var(--color-text-primary);
}
.chat-html-content p {
  margin-bottom: 0.5rem;
}
.chat-html-content table {
  width: 100%;
  border-collapse: collapse;
  margin: 0.75rem 0;
  font-size: 0.8125rem;
}
.chat-html-content thead {
  border-bottom: 2px solid var(--color-border-primary);
}
.chat-html-content th {
  padding: 0.5rem 0.75rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-primary);
  background-color: var(--color-surface-secondary);
}
.chat-html-content td {
  padding: 0.5rem 0.75rem;
  border-bottom: 1px solid var(--color-border-secondary);
  color: var(--color-text-primary);
}
.chat-html-content tr:last-child td {
  border-bottom: none;
}
.chat-html-content ul {
  list-style-type: disc;
  padding-left: 1.5rem;
  margin-bottom: 0.5rem;
}
.chat-html-content ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
  margin-bottom: 0.5rem;
}
.chat-html-content li {
  margin-bottom: 0.25rem;
}
.chat-html-content h1,
.chat-html-content h2,
.chat-html-content h3,
.chat-html-content h4,
.chat-html-content h5,
.chat-html-content h6 {
  font-weight: 600;
  margin-top: 0.75rem;
  margin-bottom: 0.375rem;
  color: var(--color-text-primary);
}
.chat-html-content h1 { font-size: 1.25rem; }
.chat-html-content h2 { font-size: 1.125rem; }
.chat-html-content h3 { font-size: 1rem; }
.chat-html-content a {
  color: var(--color-brand-primary);
  text-decoration: none;
}
.chat-html-content a:hover {
  text-decoration: underline;
}
.chat-html-content blockquote {
  border-left: 3px solid var(--color-border-primary);
  padding-left: 1rem;
  margin: 0.5rem 0;
  color: var(--color-text-secondary);
  font-style: italic;
}
.chat-html-content pre {
  background-color: var(--color-surface-secondary);
  padding: 0.5rem;
  border-radius: 0.25rem;
  overflow-x: auto;
  margin: 0.5rem 0;
}
.chat-html-content code {
  background-color: var(--color-surface-secondary);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
}
.chat-html-content strong,
.chat-html-content b {
  font-weight: 600;
}

/* Blog content typography â€” overrides Mantine inline styles */
.blog-content p {
  font-size: 1.125rem !important;
  line-height: 1.8 !important;
  margin-bottom: 1.5rem;
}
.blog-content h2 { margin-top: 3rem; margin-bottom: 1rem; }
.blog-content h3 { margin-top: 2.5rem; margin-bottom: 0.75rem; }
.blog-content ul, .blog-content ol { font-size: 1.125rem; line-height: 1.8; margin-bottom: 1.5rem; }
.blog-content li { font-size: 1.125rem; line-height: 1.8; margin-bottom: 0.5rem; }
.blog-content blockquote { margin: 1.5rem 0; }
.blog-content blockquote p { margin-bottom: 0.25rem; }
.blog-content strong { font-size: inherit; }
.blog-content table { font-size: 1rem; line-height: 1.7; }
